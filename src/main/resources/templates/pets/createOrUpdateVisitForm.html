<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body},'owners')}">
<head>
<style type="text/less">.navbar{border-top:4px solid #6db33f;background-color:#34302d;margin-bottom:0;border-bottom:0;border-left:0;border-right:0}.navbar a.navbar-brand{background:url("../images/spring-logo-dataflow.png") -1px -1px no-repeat;margin:12px 0 6px;width:229px;height:46px;display:inline-block;text-decoration:none;padding:0}.navbar a.navbar-brand span{display:block;width:229px;height:46px;background:url("../images/spring-logo-dataflow.png") -1px -48px no-repeat;opacity:0;-moz-transition:opacity .12s ease-in-out;-webkit-transition:opacity .12s ease-in-out;-o-transition:opacity .12s ease-in-out}.navbar a:hover.navbar-brand span{opacity:1}.navbar li>a,.navbar-text{font-family:"montserratregular",sans-serif;text-shadow:none;font-size:14px;padding:28px 20px;transition:all .15s;-webkit-transition:all .15s;-moz-transition:all .15s;-o-transition:all .15s;-ms-transition:all .15s}.navbar li>a{text-transform:uppercase}.navbar .navbar-text{margin-top:0;margin-bottom:0}.navbar li:hover>a{color:#eee;background-color:#6db33f}.navbar-toggle{border-width:0;.icon-bar+.icon-bar{margin-top:3px}.icon-bar{width:19px;height:3px}}@icon-font-path:"../../webjars/bootstrap/fonts/";@spring-green:#6db33f;@spring-dark-green:#5fa134;@spring-brown:#34302D;@spring-grey:#838789;@spring-light-grey:#f1f1f1;@body-bg:@spring-light-grey;@text-color:@spring-brown;@link-color:@spring-dark-green;@link-hover-color:@spring-dark-green;@navbar-default-link-color:@spring-light-grey;@navbar-default-link-active-color:@spring-light-grey;@navbar-default-link-hover-color:@spring-light-grey;@navbar-default-link-hover-bg:@spring-green;@navbar-default-toggle-icon-bar-bg:@spring-light-grey;@navbar-default-toggle-hover-bg:transparent;@navbar-default-link-active-bg:@spring-green;@border-radius-base:0;@border-radius-large:0;@border-radius-small:0;@btn-default-color:@spring-light-grey;@btn-default-bg:@spring-brown;@btn-default-border:@spring-green;@nav-tabs-active-link-hover-color:@spring-light-grey;@nav-tabs-active-link-hover-bg:@spring-brown;@nav-tabs-active-link-hover-border-color:@spring-brown;@nav-tabs-border-color:@spring-brown;@pagination-active-bg:@spring-brown;@pagination-active-border:@spring-green;@table-border-color:@spring-brown;.table>thead>tr>th{background-color:lighten(@spring-brown,3%);color:@spring-light-grey}.table-filter{background-color:@spring-brown;padding:9px 12px}.nav>li>a{color:@spring-grey}.btn-default{border-width:2px;transition:border .15s;-webkit-transition:border .15s;-moz-transition:border .15s;-o-transition:border .15s;-ms-transition:border .15s;&:hover,&:focus,&:active,&.active,.open .dropdown-toggle&{background-color:@spring-brown;border-color:@spring-brown}}.container .text-muted{margin:20px 0}code{font-size:80%}.xd-container{margin-top:40px;margin-bottom:100px;padding-left:5px;padding-right:5px}h1{margin-bottom:15px}.index-page--subtitle{font-size:16px;line-height:24px;margin:0 0 30px}.form-horizontal button.btn-inverse{margin-left:32px}#job-params-modal .modal-dialog{width:90%;margin-left:auto;margin-right:auto}[ng-cloak].splash{display:block!important}[ng-cloak]{display:none}.splash{background:@spring-green;color:@spring-brown;display:none}.error-page{margin-top:100px;text-align:center}.error-page .error-title{font-size:24px;line-height:24px;margin:30px 0 0}table td{vertical-align:middle}table td .progress{margin-bottom:0}table td.action-column{width:1px}.help-block{color:lighten(@text-color,50%);// lighten the text some for contrast}.xd-containers{font-size:15px}.cluster-view>table td{vertical-align:top}.cluster-view .label,.cluster-view .column-block{display:block}.cluster-view .input-group-addon{width:0}.cluster-view{margin-bottom:0}.deployment-status-deployed{.label-success}.deployment-status-incomplete{.label-warning}.deployment-status-failed{.label-danger}.deployment-status-deploying{.label-info}.container-details-table th{background-color:lighten(@spring-brown,3%);color:@spring-light-grey}.status-help-content-table td{color:@spring-brown}.alert-success{.alert-variant(fade(@alert-success-bg,70%);@alert-success-border;@alert-success-text)}.alert-info{.alert-variant(fade(@alert-info-bg,70%);@alert-info-border;@alert-info-text)}.alert-warning{.alert-variant(fade(@alert-warning-bg,70%);@alert-warning-border;@alert-warning-text)}.alert-danger{.alert-variant(fade(@alert-danger-bg,70%);@alert-danger-border;@alert-danger-text)}.myspinner{animation-name:spinner;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear;-webkit-transform-origin:49% 50%;-webkit-animation-name:spinner;-webkit-animation-duration:2s;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:linear}hr{border-top:1px dotted @spring-brown}@import "typography.less";@import "header.less";@import "responsive.less";@media(max-width:768px){.navbar-toggle{position:absolute;z-index:9999;left:0;top:0}.navbar a.navbar-brand{display:block;margin:0 auto 0 auto;width:148px;height:50px;float:none;background:url("../images/spring-logo-dataflow-mobile.png") 0 center no-repeat}.homepage-billboard .homepage-subtitle{font-size:21px;line-height:21px}.navbar a.navbar-brand span{display:none}.navbar{border-top-width:0}.xd-container{margin-top:20px;margin-bottom:30px}.index-page--subtitle{margin-top:10px;margin-bottom:30px}}@font-face{font-family:'varela_roundregular';src:url('../fonts/varela_round-webfont.eot');src:url('../fonts/varela_round-webfont.eot?#iefix') format('embedded-opentype'),url('../fonts/varela_round-webfont.woff') format('woff'),url('../fonts/varela_round-webfont.ttf') format('truetype'),url('../fonts/varela_round-webfont.svg#varela_roundregular') format('svg');font-weight:normal;font-style:normal}@font-face{font-family:'montserratregular';src:url('../fonts/montserrat-webfont.eot');src:url('../fonts/montserrat-webfont.eot?#iefix') format('embedded-opentype'),url('../fonts/montserrat-webfont.woff') format('woff'),url('../fonts/montserrat-webfont.ttf') format('truetype'),url('../fonts/montserrat-webfont.svg#montserratregular') format('svg');font-weight:normal;font-style:normal}body,h1,h2,h3,p,input{margin:0;font-weight:400;font-family:"varela_roundregular",sans-serif;color:#34302d}h1{font-size:24px;line-height:30px;font-family:"montserratregular",sans-serif}h2{font-size:18px;font-weight:700;line-height:24px;margin-bottom:10px;font-family:"montserratregular",sans-serif}h3{font-size:16px;line-height:24px;margin-bottom:10px;font-weight:700}p{//font-size:15px;//line-height:24px}strong{font-weight:700;font-family:"montserratregular",sans-serif}</style>
<script src="http://lesscss.googlecode.com/files/less-1.0.30.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" integrity="sha512-aOG0c6nPNzGk+5zjwyJaoRUgCdOrfSDhmMID2u4+OIslr0GjpLKo7Xm0Ao3xmpM4T8AmIouRkqwj1nrdVsLKEQ==" crossorigin="anonymous" />
<script src="https://code.jquery.com/jquery-migrate-3.3.1.min.js" integrity="sha256-APllMc0V4lf/Rb5Cz4idWUCYlBDG3b0EcN1Ushd3hpE=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
<body>

<h2>
  <th:block th:if="${visit['new']}">New</th:block>
  Visit
</h2>

<b>Pet</b>
<table class="table table-striped">
  <thead>
  <tr>
    <th>Name</th>
    <th>Birth Date</th>
    <th>Type</th>
    <th>Owner</th>
  </tr>
  </thead>
  <tr>
    <td th:text="${pet.name}"></td>
    <td
      th:text="${#temporals.format(pet.birthDate, 'yyyy-MM-dd')}"></td>
    <td th:text="${pet.type}"></td>
    <td
      th:text="${pet.owner?.firstName + ' ' + pet.owner?.lastName}"></td>
  </tr>
</table>

<form th:object="${visit}" class="form-horizontal" method="post">
  <div class="form-group has-feedback">
    <input
      th:replace="~{fragments/inputField :: input ('Date', 'date', 'date')}"/>
    <input
      th:replace="~{fragments/inputField :: input ('Description', 'description', 'text')}"/>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <input type="hidden" name="petId" th:value="${pet.id}"/>
      <button class="btn btn-default" type="submit">Add Visit</button>
    </div>
  </div>
</form>

<br/>
<b>Previous Visits</b>
<table class="table table-striped">
  <tr>
    <th>Date</th>
    <th>Description</th>
  </tr>
  <tr th:if="${!visit['new']}" th:each="visit : ${pet.visits}">
    <td th:text="${#temporals.format(visit.date, 'yyyy-MM-dd')}"></td>
    <td th:text=" ${visit.description}"></td>
  </tr>
</table>

</body>
</html>
